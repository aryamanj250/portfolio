@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Light Theme (Optimized) */
  :root {
    --background: 0 0% 100%; /* White */
    --foreground: 0 0% 3.9%; /* Near Black */
    --card: 0 0% 100%; /* White */
    --card-foreground: 0 0% 3.9%; /* Near Black */
    --popover: 0 0% 100%; /* White */
    --popover-foreground: 0 0% 3.9%; /* Near Black */
    --primary: 0 0% 9%; /* Near Black */
    --primary-foreground: 0 0% 98%; /* Near White */
    --secondary: 0 0% 96.1%; /* Light Grey */
    --secondary-foreground: 0 0% 9%; /* Near Black */
    --muted: 0 0% 96.1%; /* Light Grey */
    --muted-foreground: 0 0% 40%; /* Slightly darker Mid Grey for better contrast */
    --accent: 0 0% 96.1%; /* Light Grey */
    --accent-foreground: 0 0% 9%; /* Near Black */
    --destructive: 0 84.2% 55%; /* Slightly darker Red for better contrast */
    --destructive-foreground: 0 0% 98%; /* Near White */
    --border: 0 0% 84%; /* Slightly darker border for better visibility */
    --input: 0 0% 84%; /* Slightly darker border for better visibility */
    --ring: 0 0% 3.9%; /* Near Black */
    --radius: 0.5rem; /* Slightly less rounded */
  }

  /* Dark Theme */
  .dark {
    --background: 0 0% 3.9%; /* Near Black */
    --foreground: 0 0% 98%; /* Near White */
    --card: 0 0% 3.9%; /* Near Black */
    --card-foreground: 0 0% 98%; /* Near White */
    --popover: 0 0% 3.9%; /* Near Black */
    --popover-foreground: 0 0% 98%; /* Near White */
    --primary: 0 0% 98%; /* Near White */
    --primary-foreground: 0 0% 9%; /* Near Black */
    --secondary: 0 0% 14.9%; /* Dark Grey */
    --secondary-foreground: 0 0% 98%; /* Near White */
    --muted: 0 0% 14.9%; /* Dark Grey */
    --muted-foreground: 0 0% 63.9%; /* Mid Grey */
    --accent: 0 0% 14.9%; /* Dark Grey */
    --accent-foreground: 0 0% 98%; /* Near White */
    --destructive: 0 62.8% 30.6%; /* Dark Red */
    --destructive-foreground: 0 0% 98%; /* Near White */
    --border: 0 0% 14.9%; /* Dark Border */
    --input: 0 0% 14.9%; /* Dark Border */
    --ring: 0 0% 83.1%; /* Light Grey for Ring */
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
    /* Remove complex gradient background */
    /* background: linear-gradient(...) */
    background-attachment: fixed; /* Keep this if needed for other bg effects */
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-syne font-bold text-foreground;
    /* Adjust text shadow for better contrast in both themes */
    text-shadow: 0 1px 1px hsl(var(--background) / 0.4);
  }
  
  p {
    @apply text-foreground/90;
    text-shadow: 0 1px 1px hsl(var(--background) / 0.3);
  }
}

@layer components {
  /* Simplify component styles to rely more on base variables */
  .text-content-wrapper {
    @apply rounded-xl p-6 bg-card/80 border border-border shadow-lg backdrop-blur-sm;
    /* Adjust transparency/blur as needed */
  }

  .gradient-text {
    /* Revert to a simpler text style or remove if not used */
    @apply font-bold text-primary;
    /* Or define gradients specific to light/dark if needed */
  }

  .gradient-text-alt {
     /* Revert to a simpler text style or remove if not used */
    @apply font-bold text-secondary-foreground;
  }

  /* Simplify button, rely on variants from button.tsx which use CSS vars */
  .modern-button {
    @apply relative overflow-hidden border border-primary text-primary bg-transparent transition-colors duration-700 ease-in-out;
    z-index: 1; /* Ensure button content is initially above pseudo-element */
  }

  .modern-button::before {
    content: '';
    @apply absolute top-1/2 left-1/2 w-0 h-0 rounded-full bg-primary transition-all duration-700 ease-in-out;
    transform: translate(-50%, -50%) scale(0);
    z-index: -1; /* Position behind the text */
  }

  .modern-button:hover {
    @apply text-primary-foreground; /* Change text color on hover */
  }

  .modern-button:hover::before {
    @apply w-[225%] h-[225%]; /* Make slightly larger than needed to ensure full cover */
    transform: translate(-50%, -50%) scale(1);
  }

  /* Simplify card styles */
  .feature-card {
    @apply bg-card backdrop-blur-sm text-card-foreground 
           border border-border
           shadow-md transition-all duration-300 rounded-xl
           hover:shadow-lg hover:border-primary/50 hover:-translate-y-1;
  }

  .modern-input {
    @apply bg-input border border-border 
           text-foreground rounded-md focus:border-primary 
           focus:ring-1 focus:ring-ring focus:outline-none;
  }

  .star {
    color: hsl(var(--primary));
    /* Keep pulse or simplify/remove */
     animation: pulse 3s infinite ease-in-out;
  }

  /* Project card using blended background, --border, --primary shadow */
  .project-card {
    @apply relative overflow-hidden rounded-xl transition-all duration-300 ease-out /* Smoother ease */
           bg-card/80 
           hover:shadow-lg hover:shadow-primary/15 
           hover:-translate-y-0.5 hover:scale-[1.02] /* Smaller lift, slight scale */
           backdrop-blur-sm
           border border-border;
  }

  .nav-pill {
    @apply px-4 py-2 rounded-full bg-background/80 backdrop-blur-md
           flex items-center gap-3 border border-border
           shadow-sm;
  }

  .nav-link {
    @apply text-muted-foreground hover:text-primary transition-colors duration-200
           relative font-medium;
  }

  .nav-link::after {
    content: '';
    @apply absolute -bottom-1 left-0 h-0.5 w-0 bg-primary
           transition-all duration-300 opacity-0;
  }

  .nav-link:hover::after,
  .nav-link.active::after {
    @apply w-full opacity-100;
  }

  .nav-link.active {
    @apply text-primary;
  }

  /* Badge styles should work fine as they use CSS vars */
  .badge {
    @apply inline-flex items-center justify-center px-2 py-0.5 rounded-md text-xs font-medium border;
  }

  .badge-primary {
    @apply bg-primary/10 text-primary border-primary/20;
  }

  .badge-secondary {
    @apply bg-secondary/10 text-secondary-foreground border-secondary/20;
  }

  .glass-card {
    @apply rounded-xl backdrop-blur-sm border border-border/50
          bg-card/60 text-foreground shadow-md transition-all duration-300
          hover:shadow-lg hover:bg-card/75 hover:border-border/80;
  }
}

/* Custom Scrollbar - Enhanced for light mode */
::-webkit-scrollbar {
  width: 8px; /* Slightly wider for better visibility */
}

::-webkit-scrollbar-track {
  background: hsl(var(--background) / 0.5);
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.5); /* Higher opacity */
  border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.7); /* Higher opacity on hover */
}

/* Text reveal */
.reveal-text::before {
  color: hsl(var(--foreground));
  transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Noise effect - lighter in light mode, darker in dark mode */
.noise {
  opacity: 0.02;
  mix-blend-mode: difference;
}

/* Adjust grid color for better visibility in light mode */
.bg-grid-white {
   background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cline x1='0' y1='100' x2='100' y2='100' stroke='hsl(var(--foreground))' stroke-opacity='0.08' stroke-width='1'/%3E%3Cline x1='100' y1='0' x2='100' y2='100' stroke='hsl(var(--foreground))' stroke-opacity='0.08' stroke-width='1'/%3E%3C/svg%3E");
}

/* Enhanced glow for light mode */
.glow:hover {
  filter: drop-shadow(0 0 8px hsl(var(--primary) / 0.4));
}

/* Adjust loading dots */
.loading-dot {
  @apply bg-primary;
}

/* Glass effect - enhanced for light mode */
.glass-effect {
  @apply backdrop-blur-md bg-background/60 dark:bg-background/40 border-border/50;
  box-shadow: 0 4px 32px -8px rgba(0, 0, 0, 0.1);
}

/* Light mode specific optimizations */
@media (prefers-color-scheme: light) {
  .glass-card {
    box-shadow: 0 4px 24px -8px rgba(0, 0, 0, 0.1);
  }
  
  /* Additional light mode shadows for cards and elements */
  .card-shadow {
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
  }
  
  /* Improved button hover effect for light mode */
  button:hover, 
  a:hover {
    filter: brightness(0.95);
  }
}

/* For users who prefer reduced motion */
@media (prefers-reduced-motion) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Hide default cursor when custom cursor is active */
.cursor-hidden {
  cursor: none !important;
}

/* Hollow button with SLOW center-fill animation */
.fill-center-button {
  @apply relative overflow-hidden border border-primary text-primary bg-transparent transition-colors duration-500 ease-out;
  /* Default: transparent bg, primary border/text, slow text transition */
  z-index: 1;
}

.fill-center-button::before {
  content: '';
  @apply absolute top-1/2 left-1/2 w-0 h-0 rounded-full bg-primary transition-all duration-700 ease-out;
  /* Start as 0x0 circle at center, use primary bg, slow transition */
  transform: translate(-50%, -50%); 
  z-index: -1;
}

.fill-center-button:hover {
  @apply text-primary-foreground;
  /* Text changes color over the slower duration */
  /* Border color remains primary */
}

.fill-center-button:hover::before {
  @apply w-[225%] h-[225%]; /* Expand circle to cover */
  /* Scale is handled by width/height transition */
}

/* Tacky/Edgy Scroll-to-Top Button Animation - REMOVED */
/*
.tacky-scroll-top { ... }
.tacky-scroll-top::before { ... }
.tacky-scroll-top:hover { ... }
.tacky-scroll-top:hover::before { ... }
*/

/* Cursor Trail Effects - Removed ... */
